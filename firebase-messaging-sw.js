importScripts("https://www.gstatic.com/firebasejs/10.0.0/firebase-app-compat.js");importScripts("https://www.gstatic.com/firebasejs/10.0.0/firebase-messaging-compat.js");importScripts("https://storage.googleapis.com/workbox-cdn/releases/6.5.4/workbox-sw.js");firebase.initializeApp({apiKey:"AIzaSyD58mmJ_KY1y7hUqG_GpQLwCaiQ8xCL9AY",authDomain:"test-2bfca.firebaseapp.com",projectId:"test-2bfca",storageBucket:"test-2bfca.firebasestorage.app",messagingSenderId:"272266754689",appId:"1:272266754689:web:a225bd8f0d24478337eb80"});const n=firebase.messaging();n.onBackgroundMessage(e=>{console.log("Background message received:",e);const{fcm_title:t,fcm_body:s,fcm_icon:a}=e.data||{};t&&s&&self.registration.showNotification(t,{body:s,icon:a||"/pwa-192x192.png",data:e.data})});if(typeof workbox<"u"&&workbox.precaching)try{workbox.precaching.precacheAndRoute([{"revision":null,"url":"assets/index-B_8RevE9.js"},{"revision":null,"url":"assets/index-D06S8-mR.css"},{"revision":"51ba72e6809b76b9ef799a9dd1133cce","url":"index.html"},{"revision":"480f1578c6f6009d6de0f16d877fb8bb","url":"registerSW.js"},{"revision":"3e820334326133d4b83de8577bb4b8d1","url":"pwa-128x128.png"},{"revision":"b7c2fab88021153b6c641ad41e548bfa","url":"pwa-192x192.png"},{"revision":"942933be67678c4debf95e0f2829f6ba","url":"pwa-512x512.png"},{"revision":"4730a3e3435d4c701d60ba49a7ceec4a","url":"manifest.webmanifest"}]||[])}catch(e){console.warn("Workbox precache skipped:",e)}const c="my-pwa-cache-v1",o=["/","/manifest.json","/pwa-192x192.png"];self.addEventListener("install",e=>{e.waitUntil(caches.open(c).then(t=>t.addAll(o)))});self.addEventListener("fetch",e=>{const t=new URL(e.request.url);t.pathname.endsWith("/manifest.json")||t.pathname.includes("firebase-messaging-sw.js")||t.pathname.includes("service-worker.js")||e.respondWith(caches.match(e.request).then(s=>s||fetch(e.request)))});self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(t=>Promise.all(t.map(s=>s!==c&&caches.delete(s)))))});self.addEventListener("notificationclick",e=>{e.notification.close();const s=(e.notification.data||{}).click_action||"/";e.waitUntil(clients.matchAll({type:"window"}).then(a=>{for(const i of a)if(i.url.includes(s)&&"focus"in i)return i.focus();if(clients.openWindow)return clients.openWindow(s)}))});
